#!groovy
//Run NGINX docker build
properties([disableConcurrentBuilds()])

pipeline {
	agent {
		label 'docker-agent'
	}
	options {
		buildDiscarder (logRotator(numToKeepStr: '10', artifactNumToKeepStr: '10'))
		timestamps()
	}
	stages {
		stage('Check Availability') {
        		steps {             
            			try {         
				sh "curl -s --head  --request GET  http://192.168.0.100 | grep '200'"
                		return true
            			} catch (Exception e) {
                		return false
            }
	}
     }
   }
 } 
